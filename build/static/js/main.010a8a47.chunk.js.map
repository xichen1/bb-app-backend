{"version":3,"sources":["services/books.js","components/WarnInfo.js","components/NewBookForm.js","components/BookBriefItem.js","components/BookList.js","services/login.js","components/UserState.js","components/Login.js","components/MainPage.js","pages/BookDetailPage.js","App.js","index.js"],"names":["baseUrl","bookServices","axios","get","then","response","data","newObject","post","WarnInfo","errorType","errorInfo","className","NewBookForm","setBooks","bookList","useState","newTitle","setNewTitle","newAuthor","setNewAuthor","newAbout","setNewAbout","setErrorType","setErrorInfo","onSubmit","event","preventDefault","book","newBook","title","author","about","console","log","setTimeout","retrievedBook","concat","catch","error","htmlFor","value","id","onChange","target","type","BookBriefItem","to","BookList","books","useEffect","retrievedAllBooks","map","b","loginServices","login","credentials","a","UserState","username","name","onClick","window","localStorage","clear","Login","setUsername","password","setPassword","user","setUser","loggedUserJSON","getItem","JSON","parse","setItem","stringify","MainPage","BookDetailPage","useParams","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.010a8a47.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl = '/api/books';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => {\r\n    return response.data;\r\n  });\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => {\r\n    return response.data;\r\n  });\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const requset = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return requset.then(response => {\r\n    return response.data;\r\n  });\r\n}\r\n\r\nexport const bookServices = {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update\r\n}","import React from 'react';\r\n\r\nimport '../styles/warn.css'\r\nconst WarnInfo = ({ errorType, errorInfo }) => {\r\n\r\n  return (\r\n    <div className=\"errorContainer\">\r\n      <div>{`${errorType} error!`}</div>\r\n      <div>{errorInfo}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WarnInfo;","import React, { useState } from 'react';\r\n\r\nimport { bookServices } from '../services/books';\r\nimport WarnInfo from './WarnInfo';\r\n\r\nconst NewBookForm = ({ setBooks, bookList }) => {\r\n\r\n  const [newTitle, setNewTitle] = useState('');\r\n  const [newAuthor, setNewAuthor] = useState('');\r\n  const [newAbout, setNewAbout] = useState('');\r\n\r\n  const [errorType, setErrorType] = useState(null);\r\n  const [errorInfo, setErrorInfo] = useState(null);\r\n\r\n  const checkEmpty = (book) => {\r\n    if (book.title === '' || book.author === '' || book.about === '') {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const addBook = (event) => {\r\n    event.preventDefault();\r\n    const newBook = {\r\n      title: newTitle,\r\n      author: newAuthor,\r\n      about: newAbout,\r\n    };\r\n\r\n    if (!checkEmpty(newBook)) {\r\n      console.log(123);\r\n      setErrorType('new book creation');\r\n      setErrorInfo('invalid input');\r\n      setTimeout(() => {\r\n        setErrorType(null);\r\n        setErrorInfo(null);\r\n      }, 3000);\r\n    } else {\r\n      bookServices.create(newBook)\r\n        .then(retrievedBook => {\r\n          setBooks(bookList.concat(retrievedBook));\r\n          setNewTitle('');\r\n          setNewAuthor('');\r\n          setNewAbout('');\r\n        })\r\n        .catch(error => {\r\n          setErrorType('new book creation');\r\n          setErrorInfo(\"error\");\r\n          setTimeout(() => {\r\n            setErrorType(null);\r\n            setErrorInfo(null);\r\n          }, 3000);\r\n        });\r\n    }\r\n  }\r\n\r\n  const handleTitleAdd = (event) => {\r\n    event.preventDefault();\r\n    setNewTitle(event.target.value);\r\n  }\r\n\r\n  const handleAuthorAdd = (event) => {\r\n    event.preventDefault();\r\n    setNewAuthor(event.target.value);\r\n  }\r\n\r\n  const handleAboutAdd = (event) => {\r\n    event.preventDefault();\r\n    setNewAbout(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={addBook}>\r\n        <label htmlFor=\"newTitle\">Title: </label>\r\n        <input value={newTitle} id=\"newTitle\" onChange={handleTitleAdd} />\r\n\r\n        <label htmlFor=\"newAuthor\">Author: </label>\r\n        <input value={newAuthor} id=\"newAuthor\" onChange={handleAuthorAdd} />\r\n\r\n        <label htmlFor=\"newAbout\">About: </label>\r\n        <input value={newAbout} id=\"newAbout\" onChange={handleAboutAdd} />\r\n        <button type=\"submit\">submit</button>\r\n      </form>\r\n      {errorType === null ? <div></div> : <WarnInfo errorType={errorType} errorInfo={errorInfo} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewBookForm;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport '../styles/mainpage.css';\r\n\r\nconst BookBriefItem = ({ title, author, about, id }) => {\r\n  return (\r\n    <div className='bookItemContainer'>\r\n      <h3 className='bookTitleContainer'>\r\n        <Link to={`/bookdetails/${id}`}>\r\n          {title}\r\n        </Link>\r\n      </h3>\r\n      <small className='bookAuthorContainer'>\r\n        author: {author}\r\n      </small>\r\n      <p className='bookAboutContainer'>\r\n        {about}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookBriefItem;","import React, { useState, useEffect } from 'react';\r\n\r\nimport NewBookForm from './NewBookForm';\r\nimport BookBriefItem from './BookBriefItem';\r\nimport { bookServices } from '../services/books'\r\n\r\n\r\nconst BookList = () => {\r\n  const [books, setBooks] = useState([]);\r\n\r\n  useEffect(() =>\r\n    bookServices.getAll().then(retrievedAllBooks => {\r\n      setBooks(retrievedAllBooks);\r\n    }), []);\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      {books.map(b => <div key={b.id}><BookBriefItem title={b.title} author={b.author} about={b.about} id={b.id} />\r\n      </div>)}\r\n      <NewBookForm setBooks={setBooks} bookList={books} />\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default BookList\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/login';\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials);\r\n  return response.data;\r\n}\r\n\r\nexport const loginServices = { login };","import React from 'react';\r\n\r\nconst UserState = ({ username, name }) => {\r\n  const logout = () => {\r\n    window.localStorage.clear()\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>{username}</div>\r\n      <div>hello, {name}</div>\r\n      <button onClick={logout}>Log Out</button>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default UserState;","import React, { useState, useEffect } from 'react';\r\nimport { loginServices } from '../services/login';\r\nimport WarnInfo from './WarnInfo';\r\nimport UserState from './UserState';\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const [user, setUser] = useState(null);\r\n\r\n  const [errorType, setErrorType] = useState(null);\r\n  const [errorInfo, setErrorInfo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedNoteappUser');\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON);\r\n      setUser(user);\r\n    }\r\n  }, []);\r\n\r\n  const login = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const user = await loginServices.login({\r\n        username, password\r\n      });\r\n      setUser(user);\r\n      window.localStorage.setItem(\r\n        'loggedNoteappUser', JSON.stringify(user)\r\n      );\r\n      setUsername('');\r\n      setPassword('');\r\n    } catch (error) {\r\n      setErrorType('varify failed');\r\n      setErrorInfo('wrong username/password');\r\n      setTimeout(() => {\r\n        setErrorType(null);\r\n        setErrorInfo(null);\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    user === null ?\r\n      <div>\r\n        <form onSubmit={login}>\r\n          <div>\r\n            <label>username: </label>\r\n            <input\r\n              type='text'\r\n              value={username}\r\n              onChange={({ target }) =>\r\n                setUsername(target.value)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label>password: </label>\r\n            <input\r\n              type='text'\r\n              value={password}\r\n              onChange={({ target }) =>\r\n                setPassword(target.value)}\r\n            />\r\n          </div>\r\n          <button type='submit'>login</button>\r\n        </form>\r\n        {errorType === null ? <div></div> : <WarnInfo errorType={errorType} errorInfo={errorInfo} />}\r\n      </div> :\r\n      <UserState username={user.username} name={user.name} />\r\n\r\n  );\r\n\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport BookList from './BookList';\r\n\r\nimport '../styles/mainpage.css';\r\nimport Login from './Login';\r\n\r\nconst MainPage = () => {\r\n\r\n  return (\r\n    <div className='projectContainer'>\r\n      <div className='mainContentContainer'>\r\n        <div className='titleBookContainer'>\r\n          <h1 className='webTitle'>Book Review Board</h1>\r\n          <Login />\r\n          <BookList />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n};\r\n\r\nexport default MainPage;","import React from 'react';\r\nimport {\r\n  // ...\r\n  useParams\r\n} from \"react-router-dom\"\r\n\r\nconst BookDetailPage = () => {\r\n  const id = useParams().id;\r\n  return (\r\n    <div>{id}</div>\r\n  );\r\n}\r\n\r\nexport default BookDetailPage;","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport MainPage from './components/MainPage';\nimport BookDetailPage from './pages/BookDetailPage';\n\nconst App = () => {\n  return (\n    <Switch>\n      <Route path=\"/\" exact component={MainPage} />\n      <Route path=\"/bookdetails/:id\">\n        <BookDetailPage />\n      </Route>\n    </Switch>\n  );\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);"],"sourceRoot":""}