{"version":3,"sources":["services/books.js","components/WarnInfo.js","components/NewBookForm.js","components/Book.js","components/BookList.js","components/MainPage.js","App.js","index.js"],"names":["baseUrl","bookServices","axios","get","then","response","data","newObject","post","WarnInfo","errorType","errorInfo","className","NewBookForm","setBooks","bookList","useState","newTitle","setNewTitle","newAuthor","setNewAuthor","newAbout","setNewAbout","setErrorType","setErrorInfo","onSubmit","event","preventDefault","book","newBook","title","author","about","available","console","log","setTimeout","retrievedBook","concat","catch","error","htmlFor","value","id","onChange","target","type","Book","show","BookList","books","bookTypeSelect","setBookTypeSelect","useEffect","retrievedAllBooks","filter","b","map","MainPage","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.56890be3.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl = '/api/books';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => {\r\n    return response.data;\r\n  });\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => {\r\n    return response.data;\r\n  });\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const requset = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return requset.then(response => {\r\n    return response.data;\r\n  });\r\n}\r\n\r\nexport const bookServices = {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update\r\n}","import React from 'react';\r\n\r\nimport '../styles/warn.css'\r\nconst WarnInfo = ({ errorType, errorInfo }) => {\r\n\r\n  return (\r\n    <div className=\"errorContainer\">\r\n      <div>{`${errorType} error!`}</div>\r\n      <div>{errorInfo}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WarnInfo;","import React, { useState } from 'react';\r\n\r\nimport { bookServices } from '../services/books';\r\nimport WarnInfo from './WarnInfo';\r\n\r\nconst NewBookForm = ({ setBooks, bookList }) => {\r\n\r\n  const [newTitle, setNewTitle] = useState('');\r\n  const [newAuthor, setNewAuthor] = useState('');\r\n  const [newAbout, setNewAbout] = useState('');\r\n\r\n  const [errorType, setErrorType] = useState(null);\r\n  const [errorInfo, setErrorInfo] = useState(null);\r\n\r\n  const checkEmpty = (book) => {\r\n    if (book.title === '' || book.author === '' || book.about === '') {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const addBook = (event) => {\r\n    event.preventDefault();\r\n    const newBook = {\r\n      title: newTitle,\r\n      author: newAuthor,\r\n      about: newAbout,\r\n      available: 'on shelf'\r\n    };\r\n\r\n    if (!checkEmpty(newBook)) {\r\n      console.log(123);\r\n      setErrorType('new book creation');\r\n      setErrorInfo('invalid input');\r\n      setTimeout(() => {\r\n        setErrorType(null);\r\n        setErrorInfo(null);\r\n      }, 3000);\r\n    } else {\r\n      bookServices.create(newBook)\r\n        .then(retrievedBook => {\r\n          setBooks(bookList.concat(retrievedBook));\r\n          setNewTitle('');\r\n          setNewAuthor('');\r\n          setNewAbout('');\r\n        })\r\n        .catch(error => {\r\n          setErrorType('new book creation');\r\n          setErrorInfo(error);\r\n          setTimeout(() => {\r\n            setErrorType(null);\r\n            setErrorInfo(null);\r\n          }, 3000);\r\n        });\r\n    }\r\n  }\r\n\r\n  const handleTitleAdd = (event) => {\r\n    event.preventDefault();\r\n    setNewTitle(event.target.value);\r\n  }\r\n\r\n  const handleAuthorAdd = (event) => {\r\n    event.preventDefault();\r\n    setNewAuthor(event.target.value);\r\n  }\r\n\r\n  const handleAboutAdd = (event) => {\r\n    event.preventDefault();\r\n    setNewAbout(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={addBook}>\r\n        <label htmlFor=\"newTitle\">Title: </label>\r\n        <input value={newTitle} id=\"newTitle\" onChange={handleTitleAdd} />\r\n\r\n        <label htmlFor=\"newAuthor\">Author: </label>\r\n        <input value={newAuthor} id=\"newAuthor\" onChange={handleAuthorAdd} />\r\n\r\n        <label htmlFor=\"newAbout\">About: </label>\r\n        <input value={newAbout} id=\"newAbout\" onChange={handleAboutAdd} />\r\n        <button type=\"submit\">submit</button>\r\n      </form>\r\n      {errorType === null ? <div></div> : <WarnInfo errorType={errorType} errorInfo={errorInfo} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewBookForm;","import React, { useState } from 'react';\r\n\r\nconst Book = ({ book }) => {\r\n  const [show, setShow] = useState(true);\r\n\r\n  return (\r\n    show ?\r\n      <div>\r\n        {book.author}, {book.about}\r\n      </div> :\r\n      <div></div>\r\n  );\r\n\r\n};\r\n\r\nexport default Book;","import React, { useState, useEffect } from 'react';\r\n\r\nimport NewBookForm from './NewBookForm';\r\nimport Book from './Book';\r\nimport { bookServices } from '../services/books'\r\n\r\nconst BookList = () => {\r\n  const [books, setBooks] = useState([]);\r\n  const [bookTypeSelect, setBookTypeSelect] = useState();\r\n\r\n\r\n\r\n  useEffect(() =>\r\n    bookServices.getAll().then(retrievedAllBooks => {\r\n      setBooks(retrievedAllBooks);\r\n    }), []);\r\n\r\n\r\n  const changeBookTypeSelect = (event) => {\r\n    const type = event.target.value\r\n    setBookTypeSelect(type);\r\n    if (type === \"allbook\") {\r\n      setBooks(books);\r\n    } else if (type === \"availablebook\") {\r\n      setBooks(books.filter(b => (b.available === 'on shelf')));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <select value={bookTypeSelect} onChange={changeBookTypeSelect}>\r\n        <option value=\"allbook\">all book</option>\r\n        <option value=\"availablebook\">available book</option>\r\n      </select>\r\n      <ul>\r\n        {books.map(b => <div key={b.id}><li>{b.title}</li><Book book={b} /></div>)}\r\n      </ul>\r\n      <NewBookForm setBooks={setBooks} bookList={books} />\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default BookList\r\n","import React from 'react';\r\nimport BookList from './BookList';\r\n\r\nconst MainPage = () => {\r\n\r\n  return (\r\n    <div>\r\n      <h1>Books</h1>\r\n      <BookList />\r\n    </div>\r\n  );\r\n\r\n};\r\n\r\nexport default MainPage;","import React from 'react';\n\nimport MainPage from './components/MainPage'\n\nconst App = () => {\n  return (\n    <MainPage />\n  );\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}