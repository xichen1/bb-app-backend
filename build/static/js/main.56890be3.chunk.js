(this["webpackJsonpbb-app"]=this["webpackJsonpbb-app"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),r=n.n(o),a=n(14),i=n.n(a),u=n(3),l=n(4),b=n.n(l),j="/api/books",s=function(){return b.a.get(j).then((function(e){return e.data}))},O=function(e){return b.a.post(j,e).then((function(e){return e.data}))},h=(n(38),function(e){var t=e.errorType,n=e.errorInfo;return Object(c.jsxs)("div",{className:"errorContainer",children:[Object(c.jsx)("div",{children:"".concat(t," error!")}),Object(c.jsx)("div",{children:n})]})}),d=function(e){var t=e.setBooks,n=e.bookList,r=Object(o.useState)(""),a=Object(u.a)(r,2),i=a[0],l=a[1],b=Object(o.useState)(""),j=Object(u.a)(b,2),s=j[0],d=j[1],f=Object(o.useState)(""),v=Object(u.a)(f,2),x=v[0],p=v[1],k=Object(o.useState)(null),m=Object(u.a)(k,2),g=m[0],w=m[1],S=Object(o.useState)(null),T=Object(u.a)(S,2),A=T[0],C=T[1];return Object(c.jsxs)("div",{children:[Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c,o={title:i,author:s,about:x,available:"on shelf"};""===(c=o).title||""===c.author||""===c.about?(console.log(123),w("new book creation"),C("invalid input"),setTimeout((function(){w(null),C(null)}),3e3)):O(o).then((function(e){t(n.concat(e)),l(""),d(""),p("")})).catch((function(e){w("new book creation"),C(e),setTimeout((function(){w(null),C(null)}),3e3)}))},children:[Object(c.jsx)("label",{htmlFor:"newTitle",children:"Title: "}),Object(c.jsx)("input",{value:i,id:"newTitle",onChange:function(e){e.preventDefault(),l(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"newAuthor",children:"Author: "}),Object(c.jsx)("input",{value:s,id:"newAuthor",onChange:function(e){e.preventDefault(),d(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"newAbout",children:"About: "}),Object(c.jsx)("input",{value:x,id:"newAbout",onChange:function(e){e.preventDefault(),p(e.target.value)}}),Object(c.jsx)("button",{type:"submit",children:"submit"})]}),null===g?Object(c.jsx)("div",{}):Object(c.jsx)(h,{errorType:g,errorInfo:A})]})},f=function(e){var t=e.book,n=Object(o.useState)(!0),r=Object(u.a)(n,2),a=r[0];r[1];return a?Object(c.jsxs)("div",{children:[t.author,", ",t.about]}):Object(c.jsx)("div",{})},v=function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(),i=Object(u.a)(a,2),l=i[0],b=i[1];Object(o.useEffect)((function(){return s().then((function(e){r(e)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsxs)("select",{value:l,onChange:function(e){var t=e.target.value;b(t),"allbook"===t?r(n):"availablebook"===t&&r(n.filter((function(e){return"on shelf"===e.available})))},children:[Object(c.jsx)("option",{value:"allbook",children:"all book"}),Object(c.jsx)("option",{value:"availablebook",children:"available book"})]}),Object(c.jsx)("ul",{children:n.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("li",{children:e.title}),Object(c.jsx)(f,{book:e})]},e.id)}))}),Object(c.jsx)(d,{setBooks:r,bookList:n})]})},x=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Books"}),Object(c.jsx)(v,{})]})},p=function(){return Object(c.jsx)(x,{})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.56890be3.chunk.js.map